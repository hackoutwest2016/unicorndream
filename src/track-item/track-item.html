<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/iron-image/iron-image.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">

<dom-module id="track-item">

  <template>

    <style is="custom-style" include="iron-flex iron-flex-alignment">
      :host {
        display: flex;
      }
      paper-material {
        display: flex;
        background: #1C1C1F;
        box-sizing: border-box;
        margin: 8px;
        padding: 16px;
        border-radius: 1px;
        width: 100%;
      }
      .container {
        @apply(--layout-horizontal);
        @apply(--layout-center);
        @apply(--layout-justified);
      }
      .songArtist {
        @apply(--layout-horizontal);
        @apply(--layout-center);
      }
      .buttonContainer {
        @apply(--layout-end-justified);
        @apply(--layout-horizontal);
        @apply(--layout-center);
      }
    </style>

    <!-- local DOM goes here -->
    <paper-material class="container">
      <div class="songArtist">
        <iron-image src={{albumImage}} style="width:100px; height:100px;" sizing="contain"></iron-image>
        <span>{{songName}}</span>
        <span>{{artistName}}</span>
        <span>{{albumName}}</span>
        <span>{{localVotes}}</span>
      </div>
      <div>
        <paper-button id='upButton' raised>Up</paper-button>
        <paper-button id='downButton' raised>Down</paper-button>
      </div>
    </paper-material>
  </template>

  <script>
  Polymer({
    is: 'track-item',
    ready: function() {
      console.log("local votes " + this.localVotes);
    },
    properties: {
      localVotes: {
        type: Number,
        value: 0
      },
      songName: {
        type: String
      },
      artistName: {
        type: String
      },
      albumName: {
        type: String
      },
      albumImage: {
        type: String
      }
    },
    listeners: {
      'upButton.tap': 'onUpVote',
      'downButton.tap': 'onDownVote'
    },
    onUpVote: function() {
      console.log("Upvote pressed");
      this.localVotes++;
      console.log(this.localVotes);
    },
    onDownVote: function() {
      console.log("DownVote pressed");
      this.localVotes--;
      console.log(this.localVotes);
    }
  });
  </script>

</dom-module>
