<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/iron-image/iron-image.html">

<dom-module id="track-item">

  <template>

    <style>
      :host {
        display: flex;
      }    
    </style>
    
    <!-- local DOM goes here -->
    <iron-image src={{albumImage}} style="width:100px; height:100px;" sizing="contain"></iron-image>
    <span>{{songName}}</span>
    <span>{{artistName}}</span>
    <span>{{albumName}}</span>
    <paper-button id='upButton' raised>Up</paper-button>
    <paper-button id='downButton' raised>Down</paper-button>
    <span>{{localVotes}}</span>
  </template>

  <script>
  Polymer({
    is: 'track-item',
    ready: function() {
      console.log("local votes " + this.localVotes);
    },
    properties: {
      localVotes: {
        type: Number,
        value: 0
      },
      songName: {
        type: String
      },
      artistName: {
        type: String
      },
      albumName: {
        type: String
      },
      albumImage: {
        type: String
      }
    },
    listeners: {
      'upButton.tap': 'onUpVote',
      'downButton.tap': 'onDownVote'
    },
    onUpVote: function() {
      console.log("Upvote pressed");
      this.localVotes++;
      console.log(this.localVotes);
    },
    onDownVote: function() {
      console.log("DownVote pressed");
      this.localVotes--;
      console.log(this.localVotes);
    }
  });
  </script>

</dom-module>

